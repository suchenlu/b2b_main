<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
    <link href="../static/css/order/jquery-ui.min.css" rel="stylesheet">
    <link href="../static/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <!-- <link href="../static/css/bootstrap-theme.min.css" rel="stylesheet" media="screen"> -->
    <link rel="stylesheet" type="text/css" href="../static/css/base.css"/>
    <link rel="shortcut icon" type="image/x-icon" href="../static/img/logo2.png" />

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body id="B2B" >
  <div class="container-fluid">
    <div class="row-fluid">
        <ul class="nav">
            <li class="active"><a href="../report/settle_search">结算统计明细</a></li>
            <li><a href="../report/order_search">订单统计总表</a></li>
            <li><a href="../report/part_search">分销商交易明细表</a></li>
        </ul>
    </div>
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script>
        $(function () {
            $("#submit").click(function () {

                var id = document.getElementById("id").value;
                var partner_name = document.getElementById("partner_name").value;
                var partner_id = document.getElementById("partner_id").value;
                var site = document.getElementById("site").value;
                var start = document.getElementById("jy").value;
                var end = document.getElementById("jj").value;

                if (id == "" && site == "" && start == "" && end == "" && partner_name == "" && partner_id == "") {
                    alert("请至少输入一个查询条件");
                    return false;
                }
                else {
                    if (!istext(site) && site != "") {
                        alert("没有匹配的查询结果");
                        return false;
                    }

                    if (!istel(id) && id != "") {
                        alert("没有匹配的查询结果");
                        return false;
                    }

                    if (!isdata(partner_name) && partner_name != "") {
                        alert("没有匹配的查询结果");
                        return false;
                    }
                    if (!isdata(partner_id) && partner_id != "") {
                        alert("没有匹配的查询结果");
                        return false;
                    }
                    return true;
                }
                function toDate(str) {
                    var date = str.split("-");
                    return new Date(date[0], date[1], date[2]);
                }

                var start = toDate($("#jy").val());
                var end = toDate($("#jj").val());
                if (start > end) {
                    alert("起始日期必须小于结束日期");
                    return false;
                }

            })
            $("#site").attr("placeholder", "请输入正确站点名称");
            $("#id").attr("placeholder", "请输入正确订单号");
            $("#partner_name").attr("placeholder", "请输入正确供应商名称");
            $("#partner_id").attr("placeholder", "请输入正确供应商ID");
            function istext(text) {
                var reg = /[^\x00-\x80]/;
                return (reg.test(text));
            }

            function istel(tel) {
                var num1 = /[A-Za-z].*[0-9]|[0-9].*[A-Za-z]/;
                return (num1.test(tel));
            }
            function isdata(text) {
                var reg = /^[\u4e00-\u9fa5a-zA-Z0-9]+$/;
                return (reg.test(text));
            }
        })
    </script>
    <form method="get" 
          action="../report/platform_settle_detailed">
        <div style="display:none;"><input id="csrf_token" name="csrf_token" type="hidden" value="1464850682##95a55e8a55416612412caf39f77615413b71c0b2"></div>
        <div class="form-group col-sm-12 col-md-12 col-lg-12">
            <div class="col-sm-12 col-md-6 col-lg-4">
                 <label class="control-label" for="site">站点</label>
                 <input id="site" name="site" type="text" value="">
            </div>
            <div class="col-sm-12 col-md-6 col-lg-4">
                 <label class="control-label" for="id">订单号</label>
                 <input id="id" name="id" type="text" value="">
            </div>
            <div class="col-sm-12 col-md-6 col-lg-4">
                <label class="control-label" for="partner_id">供应商ID</label>
                <input id="partner_id" name="partner_id" type="text" value="">
            </div>
            <div class="col-sm-12 col-md-6 col-lg-4">
                 <label class="control-label" for="partner_name">供应商</label>
                 <input id="partner_name" name="partner_name" type="text" value="">
            </div>
            <div class="col-sm-12 col-md-6 col-lg-4">
                 <label class="control-label" for="start">下单日期</label>
                 <input id="jy" name="start" value=""> 一 <input id="jj" name="end" value="">
            </div>
            <div class="col-sm-12 col-md-12 col-lg-12">
                <label class="col-sm-1 control-label order-state">订单状态</label>
                <div class="col-sm-11 col-md-11 col-lg-11 order-state">
                    <label for="state1">
                    <input id="state1" type="checkbox">全部
                    </label>
                    <label for="state2">
                        <input id="state2" type="checkbox">
                        待补充客户信息
                    </label>
                    <label for="state3">
                        <input id="state3" type="checkbox">待支付
                    </label>
                    <label for="state4">
                        <input id="state4" type="checkbox">支付成功
                    </label>
                    <label for="state5">
                        <input id="state5" type="checkbox">已出票
                    </label>
                    <label for="state6">
                        <input id="state6" type="checkbox">已出团
                    </label>
                    <label for="state7">
                        <input id="state7" type="checkbox">已回团
                    </label>
                    <label for="state8">
                        <input id="state8" type="checkbox">即将解冻
                    </label>
                    <label for="state9">
                        <input id="state9" type="checkbox">部分解冻
                    </label>
                    <label for="state10">
                        <input id="state10" type="checkbox">全额解冻
                    </label>
                    <label for="state11">
                        <input id="state11" type="checkbox">有部分退款申请
                    </label>
                    <label for="state12">
                        <input id="state12" type="checkbox">部分退款驳回
                    </label>
                    <label for="state13">
                        <input id="state13" type="checkbox">订单已部分退款
                    </label>
                    <label for="state14">
                        <input id="state14" type="checkbox">有退款申请
                    </label>
                    <label for="state15">
                        <input id="state15" type="checkbox">退款驳回
                    </label>
                    <label for="state16">
                        <input id="state16" type="checkbox">订单已全额退款
                    </label>
                    <label for="state17">
                        <input id="state17" type="checkbox">投诉处理中
                    </label>
                    <label for="state18">
                        <input id="state18" type="checkbox">投诉完成
                    </label>
                </div>
            </div>
            <div class="form-group col-sm-12 col-md-12 col-lg-12">
                <input class="btn s_submit" id="submit" name="submit" type="submit" value="查询">
            </div>
        </div>   
    </form>
    <div class="row">

        <table class="table table-striped table-hover">
            <thead>
            <tr>
                <th>序号</th>
                <th>站点</th>
                <th>付款日期</th>
                <th>下单日期</th>
                <th>订单号</th>
                <th>供应商ID</th>
                <th>供应商</th>
                <th>订单总价</th>
                <th>应付金额</th>
                <th>收取佣金</th>
                <th>出团日期</th>
                <th>回团日期</th>
                <th>账期</th>
                <th>首次解冻日期</th>
                <th>二次解冻日期</th>
                
                
            </tr>
            </thead>
        </table>
    </div>
    </div>   
<script src="../static/js/jquery.js"></script>
<script src="../static/js/bootstrap.min.js"></script>
<script src="../static/js/order/jq.js"></script>
<script>
    $('#jy').datepicker({"dateFormat": "yy-mm-dd"})
    $('#jj').datepicker({"dateFormat": "yy-mm-dd"})
</script>
<script>
        $(function(){   
            var tab_width=$(".table").width();
            $(".nav").width(tab_width + 20);
            $(".nav-tabs").width(tab_width);
        })
    </script>
  </body>
</html>
