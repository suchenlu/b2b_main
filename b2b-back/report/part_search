<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">   
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
    <link href="../static/css/order/jquery-ui.min.css" rel="stylesheet">
    <link href="../static/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <!-- <link href="../static/css/bootstrap-theme.min.css" rel="stylesheet" media="screen"> -->
    <link rel="stylesheet" type="text/css" href="../static/css/base.css"/>
    <link rel="shortcut icon" type="image/x-icon" href="../static/img/logo2.png" />

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body id="B2B" >
  <div class="container-fluid">
    <div class="row-fluid">
        <ul class="nav">
            <li><a href="../report/settle_search">结算统计明细</a></li>
            <li><a href="../report/order_search">订单统计总表</a></li>
            <li class="active"><a href="../report/part_search">分销商交易明细表</a></li>
        </ul>

    </div>
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

    <script>
        $(function () {
            $("#submit").click(function () {

                var part_name = document.getElementById("part_name").value;
                var part_id = document.getElementById("part_id").value;
                var site = document.getElementById("site").value;
                var start = document.getElementById("jy").value;
                var end = document.getElementById("jj").value;

                if (site == "" && start == "" && end == "" && part_name == "" && part_id == "") {
                    alert("请至少输入一个查询条件");
                    return false;
                }
                else {
                    if (!istext(site) && site != "") {
                        alert("没有匹配的查询结果");
                        return false;
                    }

                    if (!istel(part_id) && part_id != "") {
                        alert("没有匹配的查询结果");
                        return false;
                    }

                    if (!istel(part_name) && part_name != "") {
                        alert("没有匹配的查询结果");
                        return false;
                    }
                    return true;
                }
                function toDate(str) {
                    var date = str.split("-");
                    return new Date(date[0], date[1], date[2]);
                }

                var start = toDate($("#jy").val());
                var end = toDate($("#jj").val());
                if (start > end) {
                    alert("起始日期必须小于结束日期");
                    return false;
                }
            })
            $("#site").attr("placeholder", "请输入正确站点名称");
            $("#part_name").attr("placeholder", "请输入正确分销商名称");
            $("#part_id").attr("placeholder", "请输入正确分销商ID");
            function istext(text) {
                var reg = /[^\x00-\x80]/;
                return (reg.test(text));
            }

            function istel(text) {
                var reg = /^[\u4e00-\u9fa5a-zA-Z0-9]+$/;
                return (reg.test(text));
            }




        })
    </script>
    <form method="get" action="../report/platform_part_detailed">
        <div style="display:none;"><input id="csrf_token" name="csrf_token" type="hidden" value="1464851323##cc0d377c37bb5629136e62e7769fce88cb2ecd19"></div>
        <div class="form-group col-sm-12 col-md-12 col-lg-12">
            <div class="col-sm-12 col-md-5 col-lg-3">
                <label class="control-label" for="site">站点</label>
                <input id="site" name="site" type="text" value="">
            </div>
            <div class="col-sm-12 col-md-5 col-lg-3">
                <label class="control-label" for="part_id">分销商ID</label>
                <input id="part_id" name="part_id" type="text" value="">
            </div>
            <div class="col-sm-12 col-md-5 col-lg-3">
                <label class="control-label" for="part_name">分销商</label>
                <input id="part_name" name="part_name" type="text" value="">
            </div>
            <div class="col-sm-12 col-md-6 col-lg-3">
                <label class="control-label" for="start">下单日期</label>
                <input id="jy" name="start"  value=""> 一 <input id="jj" name="end" value="">
            </div>
            <div class="form-group col-sm-12 col-md-1  col-lg-12">
                <input class="big_but s_submit" id="submit" name="submit" type="submit" value="查询">
            </div>
        </div>
    </form>



        <div class="row">

            <table class="table table-striped table-hover">
                <thead>
                <tr>
                    <th>序号</th>
                    <th>站点</th>
                    <th>下单日期</th>
                    <th>订单号</th>
                    <th>分销商ID</th>
                    <th>分销商</th>
                    <th>订单总价</th>
                    <th>支付金额</th>
                    <th>支付类型</th>
                    <th>支付op币</th>
                    <th>支付优惠劵</th>
                    <th>立减现金</th>
                    <th>立返op币</th>
                    <th>立返优惠劵</th>
                    <th>客户列表</th>
                </tr>
                </thead>
            </table>
        </div>
    </div>




    
<script src="../static/js/jquery.js"></script>
<script src="../static/js/bootstrap.min.js"></script>
<script src="../static/js/order/jq.js"></script>
<script>
    $('#jy').datepicker({"dateFormat": "yy-mm-dd"})
    $('#jj').datepicker({"dateFormat": "yy-mm-dd"})
</script>
<script>
        $(function(){   
            var tab_width=$(".table").width();
            $(".nav").width(tab_width + 20);
            $(".nav-tabs").width(tab_width);
        })
    </script>
  </body>
</html>
